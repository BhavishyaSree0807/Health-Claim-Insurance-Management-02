<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>All Users - Admin</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
	<style>
		.header-gradient{background:linear-gradient(135deg,#0d6efd,#6610f2);color:#fff;border-radius:.75rem;padding:1.25rem 1.5rem}
		.search-input{max-width:360px}
		.table thead th{white-space:nowrap}
	</style>
</head>
<body class="bg-light">
	<div class="container py-4">
		<div class="d-flex justify-content-between align-items-center mb-3 header-gradient">
			<div>
				<h3 class="mb-0">All Users</h3>
				<small class="opacity-75">Manage and view registered users</small>
			</div>
			<div class="d-flex gap-2">
				<input id="userSearch" type="text" class="form-control form-control-sm search-input" placeholder="Search by name or email">
				<a href="/user/adminDashboard" class="btn btn-outline-light btn-sm">Back to Dashboard</a>
			</div>
		</div>
		<div class="card shadow-sm">
			<div class="card-body p-0">
				<div class="table-responsive">
					<table class="table table-striped table-hover align-middle mb-0" id="usersTable">
						<thead class="table-light">
							<tr>
								<th>User ID</th>
								<th>Username</th>
								<th>Email</th>
								<th>Role</th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="u : ${users}">
								<td th:text="${u.userId}">1</td>
								<td th:text="${u.userName}">john</td>
								<td th:text="${u.email}">john@example.com</td>
								<td>
									<span class="badge bg-secondary" th:text="${u.role}">ADMIN</span>
								</td>
							</tr>
							<tr th:if="${users == null or #lists.isEmpty(users)}">
								<td colspan="4" class="text-center text-muted py-4">No users found.</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
	<script>
		const userSearch=document.getElementById('userSearch');
		userSearch?.addEventListener('input',()=>{
			const term=userSearch.value.toLowerCase();
			for(const row of document.querySelectorAll('#usersTable tbody tr')){
				const text=row.innerText.toLowerCase();
				row.style.display=text.includes(term)?'':'none';
			}
		});
	</script>
</body>
</html> 