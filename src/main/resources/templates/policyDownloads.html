<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Policy Downloads - InsurPilot</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
	<style>
		body { background: #f5f7fb; }
		.header {
			background: linear-gradient(135deg, #0d6efd 0%, #6f42c1 100%);
			color: #fff;
			padding: 2.25rem 0;
			border-bottom-left-radius: 24px;
			border-bottom-right-radius: 24px;
			box-shadow: 0 8px 24px rgba(13,110,253,.25);
		}
		.header h1 { font-weight: 700; letter-spacing: .3px; }
		.header p { opacity: .9; }
		.container-narrow { max-width: 1100px; }
		.card-download {
			border: none;
			border-radius: 14px;
			box-shadow: 0 8px 20px rgba(0,0,0,.06);
			transition: transform .2s ease, box-shadow .2s ease;
		}
		.card-download:hover { transform: translateY(-4px); box-shadow: 0 14px 28px rgba(0,0,0,.10); }
		.badge-file { background: #eef4ff; color: #0d6efd; }
		.btn-download { font-weight: 600; }
		.file-meta { color: #6c757d; font-size: .9rem; }
	</style>
</head>
<body>
	<section class="header mb-4">
		<div class="container container-narrow">
			<div class="d-flex align-items-center gap-3">
				<i class="bi bi-shield-check" style="font-size: 2.25rem"></i>
				<div>
					<h1 class="mb-1">Policy Downloads</h1>
					<p class="mb-0">Browse and download sample brochures for our policy plans.</p>
				</div>
			</div>
		</div>
	</section>

	<div class="container container-narrow pb-5">
		<div class="row g-4" th:if="${downloads}">
			<div class="col-12 col-md-6 col-lg-4" th:each="p : ${downloads}">
				<div class="card card-download h-100">
					<div class="card-body d-flex flex-column">
						<div class="d-flex align-items-start justify-content-between mb-3">
							<div class="d-flex align-items-center gap-2">
								<i class="bi bi-file-earmark-text text-primary" style="font-size:1.5rem"></i>
								<h5 class="card-title mb-0" th:text="${p.name}">Policy Name</h5>
							</div>
							<span class="badge badge-file">TXT</span>
						</div>
						<p class="file-meta mb-4">Format: Text • Approx. size: 2–6 KB</p>
						<div class="mt-auto d-flex gap-2">
							<a class="btn btn-primary btn-download w-100" th:href="${p.file}" th:attr="download=${#strings.replace(p.name,' ','_') + '.txt'}">
								<i class="bi bi-download me-1"></i> Download
							</a>
							<a class="btn btn-outline-secondary" th:href="${p.file}" target="_blank" title="Preview">
								<i class="bi bi-eye"></i>
							</a>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div class="text-center mt-4">
			<a th:href="${session.currentSession != null and session.currentSession.role.name() == 'AGENT'} ? @{/user/agentDashboard} : @{/user/userDashboard}" class="btn btn-light border"><i class="bi bi-arrow-left me-1"></i> Back</a>
		</div>
	</div>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html> 